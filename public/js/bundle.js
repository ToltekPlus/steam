(()=>{var e={399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={USER:1,CHAR:2,MASK:3}},643:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)return[];for(var a=[],n=!1,s=0;s<e.length;s++){var r=t[e[s]];if(n&&r&&(r=null,n=!1),r)r.regexp&&a.push(r);else{if(!n&&"\\"===e[s]){n=!0;continue}n=!1,a.push({char:e[s],next:null})}}return a}},842:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.data,a=e.input,n=void 0===a?"":a,r=e.selection,i=e.mask,o=e.maskChar,u=e.maskString,l=[],c="",h=0,f=0,d=0,m=0;i[h];){var p=t.length>f?t[f]:null,v=i[h],k=null;if(r.start<=h&&d<n.length&&(k=n.slice(d)),v.char&&(k&&k[0]===v.char?d++:(p&&(p.char===v.char||p.type!==s.default.USER)||n)&&f++,l.push({char:v.char,type:s.default.CHAR}),k&&m++,c+=v.char),v.regexp){var g=null;if(k){for(var y=0;!v.regexp.test(k[y])&&k.length>y;)y++,d++;k.length>y&&(d++,m++,f++,g=k[y],l.push({char:g,type:s.default.USER}),c+=g)}if(!g){if(p&&p.type===s.default.CHAR&&t.length>f+1){f++;continue}p&&p.type===s.default.USER&&v.regexp.test(p.char)?(l.push({char:p.char,type:s.default.USER}),c+=p.char,f++):(g=u?u[h]:o,l.push({char:g,type:s.default.MASK}),t.length>h&&f++,c+=g)}}h++}for(var S=r.start+m,w=l.length-1,b=0;w>=0&&l[w].type!==s.default.USER;)l[w].type===s.default.MASK&&(b=0),l[w].type===s.default.CHAR&&b++,w--;w+=b;for(var C="",_=0;_<=w;_++)C+=l[_].char;return{value:l,visibleValue:C,maskedValue:c,selection:{start:S,end:S}}};var n,s=(n=a(399))&&n.__esModule?n:{default:n}},478:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.value,a=e.selection,n=e.reformat,r=(e.mask,e.maskChar),i=e.maskString;if(a.end<a.start){var o=a.end;a.end=a.start,a.start=o}return a.start===a.end?t:t.length>a.start?t.slice(0,a.start).concat(function(){if(n)return"";if(i){for(var e=[],t=a.start;t<a.end;t++)e.push({char:i[t],type:s.default.MASK});return e}return function(e){for(var t=[],a=0;a<e;a++)t.push({char:r,type:s.default.MASK});return t}(a.end-a.start)}(),t.slice(a.end,t.length)):t};var n,s=(n=a(399))&&n.__esModule?n:{default:n}},217:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInput=t.defaults=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=u(a(643)),r=u(a(842)),i=u(a(478)),o=u(a(399));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){var a=t.value,n=t.mask,r=t.reformat,i=t.maskFormat,o=t.maskChar,u=t.maskString;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u&&u.length!==n.length)throw new Error("maskString must have same length as mask");if(o.length>1)throw new Error("maskChar must have only 1 char");this._maskString=u,this._maskChar=o,this._reformat=r,this.selection={start:0,end:0},this.setMaskFormat(i),this._mask=(0,s.default)(n,this._maskFormat),this.setValue(a)}return n(e,[{key:"setMaskFormat",value:function(e){this._maskFormat=e.reduce((function(e,t){return e[t.str]=t,e}),{})}},{key:"input",value:function(e){var t=this._value,a=void 0;this._reformat?a=this._reformat({data:t,input:e,selection:this.selection}):(t=(0,i.default)({value:t,selection:this.selection,mask:this._mask,maskChar:this._maskChar,maskString:this._maskString}),this.selection.end=this.selection.start,a=(0,r.default)({data:t,input:e,selection:this.selection,mask:this._mask,maskChar:this._maskChar,maskString:this._maskString})),this._value=a.value,this._maskedValue=a.maskedValue,this._visibleValue=a.visibleValue,this.setSelection(a.selection)}},{key:"setSelection",value:function(e){var t=e.start,a=e.end;this.selection={start:t,end:a}}},{key:"getSelection",value:function(){return{start:this.selection.start,end:this.selection.end}}},{key:"backspace",value:function(){this.removePreviosOrSelected()}},{key:"paste",value:function(e){this.input(e)}},{key:"setMask",value:function(e){this._mask=(0,s.default)(e,this._maskFormat),this.setValue(this._value)}},{key:"getState",value:function(){return{value:this.getValue(),maskedValue:this.getMaskedValue(),visibleValue:this.getVisibleValue(),selection:this.getSelection()}}},{key:"getValue",value:function(){return this._value}},{key:"setReformat",value:function(e){this._reformat=e,this.setValue(this._value)}},{key:"getMaskedValue",value:function(){return this._maskedValue}},{key:"getVisibleValue",value:function(){return this._visibleValue}},{key:"setMaskChar",value:function(e){if(e.length>1)throw new Error("maskChar must have only 1 char");this._maskChar=e,this.setValue(this._value)}},{key:"setMaskString",value:function(e){if(e&&e.length!==this._mask.length)throw new Error("maskString must have same length as mask");this._maskString=e,this.setValue(this._value)}},{key:"removePreviosOrSelected",value:function(){this.selection.start===this.selection.end&&(this.selection.start=this.selection.end-1,this.selection.start<0&&(this.selection.start=0)),this.input("")}},{key:"removeNextOrSelected",value:function(){this.selection.start===this.selection.end&&this.selection.end++,this.input("")}},{key:"setValue",value:function(e){var t=void 0;if(this._reformat)t=this._reformat({data:e,selection:this.selection});else{var a=e;if(!Array.isArray(a)){a=[];for(var n=0;n<e.length;n++)a.push({char:e[n],type:o.default.USER})}t=(0,r.default)({data:a,selection:this.selection,mask:this._mask,maskChar:this._maskChar,maskString:this._maskString})}this._value=t.value,this._maskedValue=t.maskedValue,this._visibleValue=t.visibleValue,this.setSelection(t.selection)}}]),e}(),c=t.defaults={maskFormat:[{str:"0",regexp:/[0-9]/},{str:"*",regexp:/./},{str:"a",regexp:/[a-zA-Z]/}],maskChar:"",showMask:!1,removeSelectedRange:i.default};t.createInput=function(e){var t=e.value,a=e.maskString,n=e.mask,s=e.reformat,r=e.maskFormat,i=void 0===r?c.maskFormat:r,o=e.maskChar,u=s,h=n;return u||h?u&&(h=null):u=function(e){return e},new l({value:t,mask:h,reformat:u,maskFormat:i,maskChar:void 0===o?c.maskChar:o,maskString:a})}},780:(e,t,a)=>{"use strict";var n,s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(217),i=(n=a(626))&&n.__esModule?n:{default:n},o=function(){function e(t,a){var n=this,s=a.mask,i=void 0===s?r.defaults.mask:s,o=a.value,u=void 0===o?"":o,l=a.reformat,c=a.maskString,h=a.maskChar,f=void 0===h?r.defaults.maskChar:h,d=a.maskFormat,m=void 0===d?r.defaults.maskFormat:d,p=a.showMask,v=a.alwaysShowMask,k=a.onChange;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.showValue=function(){n.showMask&&(n.canSetSelection||n.props.alwaysShowMask)?n.element.value=n.input.getMaskedValue():n.element.value=n.input.getVisibleValue()},this.setSelection=function(){if(n.canSetSelection){var e=n.input.getSelection();n.element.setSelectionRange(e.start,e.end),(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,0)})((function(){return n.element.setSelectionRange(e.start,e.end)}))}},this.onPaste=function(e){e.preventDefault(),n.getSelection(),n.input.paste(e.clipboardData.getData("Text")),n.showValue(),setTimeout(n.setSelection,0),n.props.onChange&&n.props.onChange(e)},this.onChange=function(e){var t;t=n.showMask&&(n.canSetSelection||n.props.alwaysShowMask)?n.input.getMaskedValue():n.input.getVisibleValue(),e.target.value!==t&&(n.getSelection(),n.input.setValue(e.target.value),n.showValue(),setTimeout(n.setSelection,0)),n.props.onChange&&n.props.onChange(e)},this.onKeyPress=function(e){e.metaKey||e.altKey||e.ctrlKey||"Enter"===e.key||(e.preventDefault(),n.getSelection(),n.input.input(e.key||e.data||String.fromCharCode(e.which)),n.showValue(),n.setSelection(),n.props.onChange&&n.props.onChange(e))},this.onKeyDown=function(e){8===e.which&&(e.preventDefault(),n.getSelection(),n.input.removePreviosOrSelected(),n.showValue(),n.setSelection(),n.props.onChange&&n.props.onChange(e)),46===e.which&&(e.preventDefault(),n.getSelection(),n.input.removeNextOrSelected(),n.showValue(),n.setSelection(),n.props.onChange&&n.props.onChange(e))},this.onFocus=function(){n.canSetSelection=!0},this.onBlur=function(){n.canSetSelection=!1},this.input=this.input=(0,r.createInput)({value:u,reformat:l,maskString:c,maskChar:f,mask:i,maskFormat:m}),this.props={mask:i,value:u,reformat:l,maskChar:f,maskFormat:m,maskString:c,showMask:p,alwaysShowMask:v,onChange:k},this.showMask=v||p,this.element=t,this.showValue(),this.subscribe()}return s(e,[{key:"getSelection",value:function(){this.input.setSelection({start:this.element.selectionStart,end:this.element.selectionEnd})}},{key:"subscribe",value:function(){this.unsubscribe={onPaste:(0,i.default)(this.element,"paste",this.onPaste),onKeyDown:(0,i.default)(this.element,"keydown",this.onKeyDown),onKeyPress:(0,i.default)(this.element,this.keyPressPropName(),this.onKeyPress),onChange:(0,i.default)(this.element,"change",this.onChange),onFocus:(0,i.default)(this.element,"focus",this.onFocus),onBlur:(0,i.default)(this.element,"blur",this.onBlur)}}},{key:"keyPressPropName",value:function(){return"undefined"!=typeof navigator&&navigator.userAgent.match(/Android/i)?"beforeinput":"keypress"}},{key:"setProps",value:function(e){var t=e.mask,a=e.value,n=e.reformat,s=e.maskString,r=e.maskChar,i=e.maskFormat,o=e.showMask,u=e.alwaysShowMask,l=e.onChange,c=!1;this.props.onChange!==l&&(this.props.onChange=l),this.props.alwaysShowMask===u&&this.props.showMask===o||(this.showMask=u||o,this.props.alwaysShowMask=u,this.props.showMask=o,c=!0),i&&i!==this.props.maskFormat&&(this.input.setMaskFormat(i),this.props.maskFormat=i,c=!0),t!==this.props.mask&&(this.input.setMask(t),this.props.mask=t,c=!0),s!==this.props.maskString&&(this.input.setMaskString(s),this.props.maskString=s,c=!0),r!==this.props.maskChar&&(this.input.setMaskChar(r),this.props.maskChar=r,c=!0),n!==this.props.reformat&&(this.input.setReformat(n),this.props.reformat=n,c=!0),a!==this.props.value&&(this.input.setValue(a),this.props.value=a,c=!0),c&&(this.showValue(),this.setSelection())}},{key:"destroy",value:function(){this.unsubscribe.onPaste(),this.unsubscribe.onKeyDown(),this.unsubscribe.onKeyPress(),this.unsubscribe.onChange(),this.unsubscribe.onFocus(),this.unsubscribe.onBlur()}}]),e}();t.Z=o},379:e=>{"use strict";var t=[];function a(e){for(var a=-1,n=0;n<t.length;n++)if(t[n].identifier===e){a=n;break}return a}function n(e,n){for(var r={},i=[],o=0;o<e.length;o++){var u=e[o],l=n.base?u[0]+n.base:u[0],c=r[l]||0,h="".concat(l," ").concat(c);r[l]=c+1;var f=a(h),d={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==f)t[f].references++,t[f].updater(d);else{var m=s(d,n);n.byIndex=o,t.splice(o,0,{identifier:h,updater:m,references:1})}i.push(h)}return i}function s(e,t){var a=t.domAPI(t);return a.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;a.update(e=t)}else a.remove()}}e.exports=function(e,s){var r=n(e=e||[],s=s||{});return function(e){e=e||[];for(var i=0;i<r.length;i++){var o=a(r[i]);t[o].references--}for(var u=n(e,s),l=0;l<r.length;l++){var c=a(r[l]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}r=u}}},569:e=>{"use strict";var t={};e.exports=function(e,a){var n=function(e){if(void 0===t[e]){var a=document.querySelector(e);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}t[e]=a}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(a)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,a)=>{"use strict";e.exports=function(e){var t=a.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(a){!function(e,t,a){var n="";a.supports&&(n+="@supports (".concat(a.supports,") {")),a.media&&(n+="@media ".concat(a.media," {"));var s=void 0!==a.layer;s&&(n+="@layer".concat(a.layer.length>0?" ".concat(a.layer):""," {")),n+=a.css,s&&(n+="}"),a.media&&(n+="}"),a.supports&&(n+="}");var r=a.sourceMap;r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,a)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},626:e=>{!function(){"use strict";function t(e,t,a,n){var s="removeEventListener",r=function(){e[s](t,a)};return e.addEventListener?(e.addEventListener(t,a,n),r):e.attachEvent?(t="on"+t,e.attachEvent(t,a),s="detachEvent",r):e.on?(e.on(t,a),s="off",r):void 0}t.define=function(e,t){return function(a,n,s,r){return a[e](n,s,r),function(){a[t](n,s)}}},e.exports=t}()},619:()=>{const e=document.querySelectorAll(".dropdown:not(.is-hoverable)");function t(){e.forEach((function(e){e.classList.remove("is-active")}))}e.length>0&&(e.forEach((function(e){e.addEventListener("click",(function(t){t.stopPropagation(),e.classList.toggle("is-active")}))})),document.addEventListener("click",(function(e){t()}))),document.addEventListener("keydown",(function(e){let a=e||window.event;"Esc"!==a.key&&"Escape"!==a.key||t()}))},72:()=>{for(var e=function(e){e.preventDefault(),e.target.classList.remove("animate"),e.target.classList.add("animate"),setTimeout((function(){e.target.classList.remove("animate")}),700)},t=document.getElementsByClassName("buy"),a=0;a<t.length;a++)t[a].addEventListener("click",e,!1)},514:()=>{const e=document.querySelector("#file-js-example input[type=file]");e.onchange=()=>{e.files.length>0&&(document.querySelector("#file-js-example .file-name").textContent=e.files[0].name)}}},t={};function a(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};a.r(e);var t=a(379),n=a.n(t),s=a(795),r=a.n(s),i=a(569),o=a.n(i),u=a(565),l=a.n(u),c=a(216),h=a.n(c),f=a(589),d=a.n(f),m={};function p(e){Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",Swal.stopTimer),e.addEventListener("mouseleave",Swal.resumeTimer)}}).fire({icon:"success",text:e})}m.styleTagTransform=d(),m.setAttributes=l(),m.insert=o().bind(null,"head"),m.domAPI=r(),m.insertStyleElement=h(),n()(e.default,m),e.default&&e.default.locals&&e.default.locals,document.addEventListener("DOMContentLoaded",(()=>{let e=window.location.origin+window.location.pathname,t=[{page:"add",action:"store",redirect:"",message:"Данные добавлены"},{page:"edit",action:"update",redirect:"",message:"Данные обновлены"},{page:"list",action:"delete",redirect:"list",message:"Данные удалены"}].filter((t=>t.page===e.split("/").pop())).shift();const a=(FormData,n=t.action,async e=>{const t=await fetch(n,{method:"POST",body:e});if(!t.ok)throw new Error(`Ошибка по адресу ${url}, статус ошибки ${fetchResp.status}`);return await t.text()});var n;document.querySelectorAll("form").forEach((e=>{e.addEventListener("submit",(function(n){n.preventDefault();const s=new FormData(this);var r;a(s).then((a=>{p(t.message),function(e,t){e.reset(),document.getElementById("file").value="",document.querySelector("#file-js-example .file-name").textContent="Ничего не добавлено"}(e)})).catch((e=>console.error(e))),setTimeout(void((r=t.redirect)&&window.setTimeout((function(){window.location=r}),2e3)),2e3)}))}))}));var v=a(780),k=document.getElementById("enterToAccount");k&&(k.onclick=function(){Swal.fire({title:"Войти в аккаунт",html:'<a href="/register" class="register-link">или зарегистрироваться</a><input id="phone" type="tel" class="auth-field input-selector" placeholder="Номер телефона"><input id="password" type="password" class="auth-field" placeholder="Пароль">',preConfirm:()=>[document.getElementById("phone").value,document.getElementById("password").value],backdrop:'\n            rgba(18,97,199,0.4)\n            url("../public/images/nyan-cat.gif")\n            left top\n            no-repeat\n          ',background:"linear-gradient(135deg, #dfe9f3 10%, #ffffff 100%)",confirmButtonColor:"#0C57C7",confirmButtonText:"Войти"}),new v.Z(document.querySelector(".input-selector"),{mask:"+(000)-00-00-000",alwaysShowMask:!0,maskChar:"_"})}),document.querySelectorAll(".buy").forEach((e=>e.addEventListener("click",(()=>{p("Товар под номером "+e.id+" в корзине")})))),a(619),a(72),a(514)})()})();